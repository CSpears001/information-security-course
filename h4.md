# H4 Johnny tables

## x)

- OWASP A01.2021 - Broken Access Control.
  - Broken access control was tested by 94% of applications with 3.81% having some form of incident.
  - Access control in of itself enforces how many things users can access with their permissions.
  - Broken access controls lead to unauthorized information disclosure, modification or destruction of data.
  - It can be prevent via several methods but here are some: Deny all except public resources by default, Log access control failures and alert the admins about them, and limit the rate of API and controller access to minimize attacks from automated tools.

- OWASP A05:2021 - Security Misconfiguration
  - 90% of applications were tested for some sort of security misconfiguration with 4.51% having an incident.
  - An application can be vulnerable if for example they are missing the appropriate securtiy hardening accross any part of the applications stack or some improperly configured permissions within their cloud services.
  - The app can also be vulnerable if it has unnecessary features enabled or installed. Default accounts and passwords should be changed also as they are usually quite easy to get into.
  - Having out of date software is also a key liability.
  - Ways to prevent this kind of vulnerability are: Having a minimal platform without any unnecessary features of any kind, having an automated process that verifies effectiveness of the configurations and settings for all environments, and sending security directives to clients.
 
- OWASP A06:2021 - Vulnerable and Outdated Components
  - Vulnerable Components are a known issue that is always tested and risk assessed.
  - You might be vulnerable if: you do not knwo what versions all of your components are on be it client or server side, if your software is vulnerable, not supported, or out of date, this could be your OS or application, and if you dont scan for potential vulnerabilities.
  - Ways to prevent this: Remove all unused features, components, files, etc. Regularly keep track of what versions your components are using and if they need updates. Only obtain your components from official secured sources.
 
- OWASP A03:2021 - Injection
  - 94% of applications were tested with some sort of injection with a max incidence rate of 19% are average of 3%.
  - You can be vulnerable if: the supplied data by users is not validated, filtered, or sanitized by the application, or hostile data is directly used.
  - You can prevent injections by: using positive server-side input validation. Use a safe API that avoids using the interpreter and provides a parameterized interface.
 
- xkcd Exploits of a Mom
  - the name of the moms son is a sql injection attack that deletes the schools student database because their software isnt secure.

## a) 
- I successfully downloaded java and enable ufw on my debian.
- One thing I had to do is use java version 21.0.8 because for some reason I couldnt download the version 17. Shouldnt really matter though. Its in a picture below.
<img width="877" height="325" alt="Screenshot 2025-09-15 171055" src="https://github.com/user-attachments/assets/81a2952c-728f-4e53-895e-f0abc9e1b015" />
<img width="810" height="126" alt="Screenshot 2025-09-15 173357" src="https://github.com/user-attachments/assets/6cbc25b0-be82-4348-95dc-8e860da0acfe" />


- After that I downloaded the webgoat and started it
<img width="1392" height="643" alt="Screenshot 2025-09-15 165616" src="https://github.com/user-attachments/assets/add778ca-d0a7-4ecc-b45b-611336f9d1cf" />
<img width="1396" height="734" alt="Screenshot 2025-09-15 165722" src="https://github.com/user-attachments/assets/afbb6d93-00de-4d03-af26-25f7dde51f1f" />
<img width="1374" height="805" alt="Screenshot 2025-09-15 170616" src="https://github.com/user-attachments/assets/851c3730-fed8-454a-ae3b-bc15874526f3" />

## b)
- I started doing the developer tools tasks.
- The first actual task was using the console and giving it the command webgoat.customjs.phonehome() . This gave you a code that you gave the website to pass.
<img width="1414" height="634" alt="Screenshot 2025-09-15 171757" src="https://github.com/user-attachments/assets/038a37bf-9ecf-4911-b679-048e106e21e5" />

- The second task was using the network tab to find another code. This time you went first into the network tab within the developer tools and pressed "Go" on the website. After this you need to find and click the "network" that has now popped up. After this you go into the inspector tool and search networkNum and it will find you the number you need to pass this exercise.
<img width="1467" height="801" alt="Screenshot 2025-09-15 172644" src="https://github.com/user-attachments/assets/a29eb269-18b4-4459-8aea-962c7c04d840" />

## c)
- I updated all my operating systems and applications on Linux.
<img width="1341" height="712" alt="Screenshot 2025-09-15 173302" src="https://github.com/user-attachments/assets/86b68563-b04f-4676-8e1d-5e039625054a" />


## d) 
- I solved the basics of the SQLZoo. These were all quite easy.
- The first task wants you to change WHERE name from France to Germany.
<img width="1474" height="697" alt="Screenshot 2025-09-15 173703" src="https://github.com/user-attachments/assets/025b260a-849a-4aab-8b30-86dd527ba3f7" />
- The second task wants you to change WHERE name In from Brazil, Russia, India, China to Sweden, Norway, Denmark.
<img width="1314" height="648" alt="Screenshot 2025-09-15 173753" src="https://github.com/user-attachments/assets/0bb85356-d980-49c2-923e-a6acb208f0da" />
- The last task wants you to change WHERE are BETWEEN 250000 and 300000 to 200000 and 250000
<img width="1441" height="669" alt="Screenshot 2025-09-15 173834" src="https://github.com/user-attachments/assets/6aaa5162-46b5-45f9-94a6-1a486f864811" />

- SELECT from World task.
- In this first task you change the number from = 64105700 to >= 200000000
<img width="1527" height="632" alt="Screenshot 2025-09-15 175131" src="https://github.com/user-attachments/assets/1744fff0-beb6-47f8-8dd6-5fd8a92823a2" />
- In the second task you actually have to write the code for the SQL. First you have to specify where to search from so SELECT name, GDP / population. you need to divide gdp by population. Then From world. Finally WHERE population >= 200000000.
<img width="1479" height="647" alt="Screenshot 2025-09-15 175434" src="https://github.com/user-attachments/assets/0a34967e-203a-4b2c-a5a9-364e42f8a0d7" />

## e)
- In this Portswigger Labs exercise we were tasked with making the application display one or more unreleased products.
- First you need to actually open the task and select one of the "Refine you search" tabs. I selected "gifts". You need to do this because it opens a url that has the category filter which has the SQL injection vulnerability.
<img width="1427" height="185" alt="Näyttökuva 2025-09-15 181859" src="https://github.com/user-attachments/assets/f02c1cc9-10fd-4e7a-b6f6-52f166ff5ffe" />
<img width="1573" height="1097" alt="Näyttökuva 2025-09-15 181920" src="https://github.com/user-attachments/assets/1c48e22f-94a0-4e24-9a4d-ce1bffb865ec" />
<img width="1168" height="42" alt="Näyttökuva 2025-09-15 182006" src="https://github.com/user-attachments/assets/da6f9124-3d82-42b2-8ddd-6198493a9737" />
- What the category does is kind of like SELECT * FROM products WHERE category = 'Gifts' AND released = 1.
- What this shows is all the products that are in the Gifts category that are released, but we need to show the unreleased ones as well.
- So first I wanted to try a pretty common way to see if the application is vulnerable so use ='
<img width="1551" height="1276" alt="Näyttökuva 2025-09-15 181245" src="https://github.com/user-attachments/assets/5c101944-f84c-41dc-a7ab-49dedae88e16" />
- As you can see it caused an internal server error.
- Because you cant really do much with an internal server error we need to have the website actually respond so I used '-- . We shouldnt get any errors but it also doesnt show any products yet.
<img width="987" height="995" alt="Näyttökuva 2025-09-15 181340" src="https://github.com/user-attachments/assets/413e3283-cc6d-4d6a-84f2-ca847d9d0eaa" />
- We want the application to show all the products so we give it the payload ' or 1=1 --' which is a conditional statement.
<img width="999" height="1336" alt="Näyttökuva 2025-09-15 181458" src="https://github.com/user-attachments/assets/7b4c405c-565e-4708-b7b8-486447643cb4" />
- As you can see from the picture the injection worked and we can now see all the products, unreleased or released.







## References

- OWASP A01 2021: https://owasp.org/Top10/A01_2021-Broken_Access_Control/
- OWASP A05 2021: https://owasp.org/Top10/A05_2021-Security_Misconfiguration/
- OWASP A06 2021: https://owasp.org/Top10/A06_2021-Vulnerable_and_Outdated_Components/
- OWASP A03 2021: https://owasp.org/Top10/A03_2021-Injection/
- xkcd Exploits of a Mom: https://xkcd.com/327/
- Karvinen 2024: Information Security Course https://terokarvinen.com/information-security/#h4-johnny-tables
- 
